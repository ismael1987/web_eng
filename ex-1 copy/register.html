<!DOCTYPE html>
<html>
    <head>
            <link rel="stylesheet"  href="mystyles.css" media="screen" />
            <title>Newsletter</title>

    </head>
    <body>

        <img src="news.jpeg">
        <form >
            <div class="container">
              <h1>Register</h1>
              <p>Please create an account.</p>
              <hr>
          
              <label for="email" ><b>Email</b></label>
              <input type="text" placeholder="Enter Email" name="email" id = "email" onblur="validate()" required>
              
               <h6 id= "result">  </h6>

              <label for="psw"><b>Password</b></label>
              <input type="password" placeholder="Enter Password" name="psw" id="password"  onblur="checkPassword()" required>
              <h6 id= "resultPassword">  </h6>

              <label for="psw-repeat"><b>Repeat Password</b></label>
              <input type="password" placeholder="Repeat Password" name="psw-repeat" id= "repeat" onblur="checkRepeat()" required>
              <h6 id= "resultRepeat">  </h6>

              <hr>
          
              <button onclick="checkSubmit()" type="button" id= "submit" class="registerbtn" >Register</button>
            </div>
          
            <div class="container signin">
              <p>Already have an account? <a href="loginPage.html">Sign in</a>.</p>
            </div>
          </form>
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script>

function validateEmail(email) {
  var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  return re.test(email);
}

function validate() {
  var $result = $("#result");
  var email = $("#email").val();
  $result.text("");

  if (validateEmail(email)) {
    $("#submit").removeAttr("disabled")   
    $result.text(null);
    $result.css("color", "green");
  } else {
    $("#submit").attr("disabled",true) 
    $result.text(email + " this is not an email Form example: name@test.com ");
    $result.css("color", "red");
  }
  return false;
}

function checkPassword(){
     
    var passw = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;
    console.log($("#password").val())
if($("#password").val().match(passw)) 
{ 
    $("#resultPassword").text(null);
    $("#resultPassword").css("color", "green");
return true;
}
else
{ 
    $("#resultPassword").text("your password should be between 6 to 20 characters which contain at least one numeric digit, one uppercase and one lowercase letter");
    $("#resultPassword").css("color", "red");
return false;
}
}
function checkRepeat(){
   if($("#password").val()!=$("#repeat").val()){
    $("#resultRepeat").text("password not matched");
    $("#resultRepeat").css("color", "red");
    return false;
   }else{
    $("#resultRepeat").text(null);
    return true;
   }
}
function checkSubmit(){
    var value = checkRepeat();
    if(value){
        window.location.replace("loginPage.html");
    }
    return false;
    
}
</script>
    </body>
</html>